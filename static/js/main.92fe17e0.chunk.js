(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,n){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__Y6Xgw",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__3TBn4"}},12:function(e,t,n){e.exports={IconButton:"IconButton_IconButton__3-og0"}},13:function(e,t,n){e.exports={ImageGallery:"ImageGallery_ImageGallery__kFdC1"}},17:function(e,t,n){e.exports={Button:"Button_Button__3XMyY"}},26:function(e,t,n){},4:function(e,t,n){e.exports={Searchbar:"Searchbar_Searchbar__20j8k",SearchForm:"Searchbar_SearchForm__Ql1fA",SearchFormButton:"Searchbar_SearchFormButton__1XcVr",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__3Ay6t",SearchFormInput:"Searchbar_SearchFormInput__3hZ_S"}},49:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),c=n.n(r),o=n(6),s=n.n(o),l=(n(26),n(3)),i=n(4),u=n.n(i);function m(e){var t=e.onSubmit,n=Object(r.useState)(""),c=Object(l.a)(n,2),o=c[0],s=c[1],i=function(){s("")};return Object(a.jsx)("header",{className:u.a.Searchbar,children:Object(a.jsxs)("form",{className:u.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==o.trim()?(t(o),console.log(o),i()):alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430")},children:[Object(a.jsx)("button",{className:u.a.SearchFormButton,type:"submit",children:Object(a.jsx)("span",{className:u.a.SearchFormButtonLabel,children:"Search"})}),Object(a.jsx)("input",{className:u.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:o,onChange:function(e){s(e.target.value.toLowerCase())}})]})})}var j=n(11);var b={fetchImage:function(e,t){return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=19008570-42b7cc415e1b0453677c4c4a2&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.ok?e.json():Promise.reject(new Error("No response from server"))}))}},h=n.p+"static/media/404_error.de5bd9ab.jpg";function d(e){var t=e.message;return Object(a.jsxs)("div",{role:"alert",children:[Object(a.jsx)("img",{src:h,width:"400",alt:"girl-and-boy-not-found"}),Object(a.jsx)("p",{children:t})]})}var f=n(20),O=n(12),g=n.n(O),p=function(e){e.children;var t=e.onClick;Object(f.a)(e,["children","onClick"]);return Object(a.jsx)("button",{type:"button",onClick:t,className:g.a.IconButton,children:"X"})};p.defaultProps={onClick:function(){return null},children:null};var _=p,v=n(8),x=n.n(v),y=document.querySelector("#modal-root");function I(e){var t=e.src,n=e.alt,c=e.onClose;Object(r.useEffect)((function(){return window.addEventListener("keydown",s),function(){window.removeEventListener("keydown",s)}}));var s=function(e){"Escape"===e.code&&(console.log("\u041d\u0443\u0436\u043d\u043e \u0437\u0430\u043a\u0440\u044b\u0442\u044c \u043c\u043e\u0434\u0430\u043b\u043a\u0443"),c())};return Object(o.createPortal)(Object(a.jsxs)("div",{className:x.a.Overlay,onClick:function(e){console.log("\u043a\u043b\u0438\u043a \u0432 \u0431\u044d\u043a\u0434\u0440\u043e\u043f"),e.target===e.currentTarget&&c()},children:[Object(a.jsx)("div",{className:x.a.Modal,children:Object(a.jsx)("img",{src:t,alt:n})}),Object(a.jsx)("div",{className:x.a.Options,children:Object(a.jsx)(_,{onClick:c})})]}),y)}var S=n(10),k=n.n(S);function w(e){var t=e.src,n=e.alt,c=e.largeImageUrl,o=Object(r.useState)(!1),s=Object(l.a)(o,2),i=s[0],u=s[1],m=function(){u((function(e){return!e}))};return Object(a.jsxs)("li",{className:k.a.ImageGalleryItem,children:[Object(a.jsx)("img",{onClick:m,src:t,alt:n,className:k.a.ImageGalleryItemImage}),i&&Object(a.jsx)(I,{onClose:m,src:c,alt:n})]})}var B=n(13),C=n.n(B);function N(e){var t=e.images;return console.log(t),Object(a.jsx)("ul",{className:C.a.ImageGallery,children:t.map((function(e){return Object(a.jsx)(w,{src:e.webformatURL,alt:e.tags,largeImageUrl:e.largeImageURL},e.id)}))})}var F=n(14),G=n(15),E=n(19),L=n(18),M=n(16),P=n.n(M),X=(n(48),function(e){Object(E.a)(n,e);var t=Object(L.a)(n);function n(){return Object(F.a)(this,n),t.apply(this,arguments)}return Object(G.a)(n,[{key:"render",value:function(){return Object(a.jsx)(P.a,{className:"Loader",type:"Oval",color:"#303f9f",height:80,width:80})}}]),n}(r.Component)),q=n(17),U=n.n(q);function A(e){var t=e.onClick;return Object(a.jsx)("button",{type:"button",onClick:function(){t(),setTimeout((function(){window.scrollBy({top:document.documentElement.clientHeight-130,behavior:"smooth"})}),500)},className:U.a.Button,children:"Load more"})}var Q="idle",T="pending",J="rejected",R="resolved";function Y(e){var t=e.searchQuerry,n=Object(r.useState)([]),c=Object(l.a)(n,2),o=c[0],s=c[1],i=Object(r.useState)(null),u=Object(l.a)(i,2),m=u[0],h=u[1],f=Object(r.useState)(1),O=Object(l.a)(f,2),g=O[0],p=O[1],_=Object(r.useState)(Q),v=Object(l.a)(_,2),x=v[0],y=v[1];console.log(t),Object(r.useEffect)((function(){s([])}),[t]),Object(r.useEffect)((function(){t&&(y(T),b.fetchImage(t,g).then((function(e){var t=e.hits;if(0===t.length)return Promise.reject(new Error("Sorry, the requested information was not found"));s((function(e){return[].concat(Object(j.a)(e),Object(j.a)(t))})),y(R)})).catch((function(e){h(e),y(J)})))}),[g,t]);return x===Q?Object(a.jsx)("h1",{children:"Please enter your request"}):x===T?Object(a.jsx)(X,{}):x===J?Object(a.jsx)(d,{message:m.message}):x===R?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(N,{images:o}),o&&Object(a.jsx)(A,{onClick:function(){p((function(e){return e+1}))},page:g})]}):void 0}n(49);function z(){var e=Object(r.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(m,{onSubmit:function(e){c(e)}}),Object(a.jsx)(Y,{searchQuerry:n})]})}s.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(z,{})}),document.getElementById("root"))},8:function(e,t,n){e.exports={Overlay:"Modal_Overlay__2hhcp",Modal:"Modal_Modal__3M2tv",Options:"Modal_Options__2NXOm"}}},[[50,1,2]]]);
//# sourceMappingURL=main.92fe17e0.chunk.js.map